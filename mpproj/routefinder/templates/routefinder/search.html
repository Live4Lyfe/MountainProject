<!DOCTYPE html>
{% load static %}
<html>
    <head>
        <meta charset="UTF-8">
        <title>Search</title>
        <link rel='stylesheet' type="text/css" href="{% static 'routefinder/style.css' %}">
        <script>
            function ToggleGrade(element_id) {
                dropdown = document.getElementById(element_id);
                dropdown.disabled = !dropdown.disabled;
            }
        </script>
    </head>
    <body>
        <section>      
            <form method="GET" action="{% url 'routefinder:results'%}" class="grid">
                <fieldset class="col-1-3">
                    <h2>Route Types</h2>
                    {% for style, grades in styles.items %}
                        <label for="{{ style }}">{{ style.capitalize }}</label>
                        <input type="checkbox" name="{{ style }}" value="True" onclick="ToggleGrade('{{ style }}_min');ToggleGrade('{{ style }}_max');"><br>
                        <select name="{{ style }}_min" id="{{ style }}_min" disabled>
                            {% for grade in grades %}
                                <option value="{{ forloop.counter0 }}">
                                    <p>{{ grade }}</p>
                                </option>
                                {% endfor %}
                        </select>
                        <select name="{{ style }}_max" id="{{ style }}_max" disabled>
                            {% for grade in grades %}
                                <option value="{{ forloop.counter0 }}" selected=""
                                    {% if forloop.last %}
                                    selected = "selected"
                                    {% endif %}>
                                    <p>{{ grade }}</p>
                                </option>
                                {% endfor %}
                        </select><br>
                        {% endfor %}
                </fieldset><!--
                --><fieldset class="col-1-3">
                    <h2>Preferences</h2>
                    <h1>Location</h1>
                    <input type="text" name="location"><br>
                    <label for="distance">Maximum Distance</label>
                    <input type="number" name="distance" min="0">
                    <h1>Number of Pitches</h1>
                    <select name="pitch_min">
                        {% for pitch in pitch_count %}
                            <option value="{{ forloop.counter0 }}"><p>{{ pitch }}</p></option>
                            {% endfor %}
                    </select>
                    <select name="pitch_max">
                        {% for pitch in pitch_count %}
                            <option value="{{ forloop.counter0 }}" selected=""
                                {% if forloop.last %}
                                    selected = "selected"
                                    {% endif %}>
                                <p>{{ pitch }}</p>
                            </option>
                            {% endfor %}
                    </select>
                    <h1>Maximum Danger</h1>
                    <select name="danger">
                        {% for danger_level in danger_levels %}
                            <option value="{{ forloop.counter0 }}" selected=""
                                {% if forloop.last %}
                                    selected = "selected"
                                    {% endif %}>
                                <p>{{ danger_level }}</p>
                            </option>
                            {% endfor %}
                    </select>
                    <h1>Maximum Commitment Level</h1>
                    <select name="commitment">
                        {% for commitment_level in commitment_levels %}
                            <option value="{{ forloop.counter0 }}" selected=""
                            {% if forloop.last %}
                                selected = "selected"
                                {% endif %}>
                                <p>{{ commitment_level }}</p>
                            </option>
                            {% endfor %}
                    </select>
                    <h2>Terrain Types</h2>
                    <fieldset>
                        {% for terrain in terrain_types %}
                            <label for="{{ terrain }}" class="col-3-4">{{ terrain.capitalize }}</label>
                            <input type="radio" name="terrain_type" value="{{ terrain }}" class="col-1-4">
                            {% endfor %}
                            <label for="{{ terrain }}" class="col-3-4">No Preference</label>
                            <input type="radio" name="terrain_type" value="" class="col-1-4">
                    </fieldset>
                </fieldset><!--
                --><input type="submit" value = "Submit" class="col-1-3">
            </form>
        </section> 
    </body>
</html>