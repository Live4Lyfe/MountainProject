#: import random random
RoutesScreenManager:
    StylesPage:
    PreferencesPage:
    LoadingPage:
    ResultsPage:

<RangeSlider>:
    cursor_left: 'C:\\Users\Bob\Anaconda3\Lib\site-packages\Mountain Project\images\carabiner_left.gif'
    cursor_right: 'C:\\Users\Bob\Anaconda3\Lib\site-packages\Mountain Project\images\carabiner_right.gif'
    connector_image: 'C:\\Users\Bob\Anaconda3\Lib\site-packages\Mountain Project\images\webbing.gif'
    step: 1

<Slider>:
    cursor_image: 'C:\\Users\Bob\Anaconda3\Lib\site-packages\Mountain Project\images\pebble.png'
    step: 1

<Label>:
    outline_color: 0, 0, 0, 1
    color: 1, 1, 1, 1
    outline_width: 2

<Button>:
    url: None

<StylesPage>:
    name: 'styles'
    canvas.before:
        Rectangle:
            id: styles_background
            pos: self.pos
            size: self.size
            source: root.photo
    BoxLayout:
        id: screen_layout
        orientation: 'vertical'
        Label:
            id: title
            text: 'Route Guide'
            font_size: root.size[0] / 20
            size_hint_y: None
            size: self.texture_size
            outline_color: 0, 0, 0, 1
            color: 1, 1, 1, 1
            outline_width: 2
        BoxLayout:
            id: input_layout
            orientation: 'horizontal'
            BoxLayout:
                id: style_layout
                orientation:'vertical'
                BoxLayout:
                    orientation: 'horizontal'
                    id: sport_layout
                    ToggleButton:
                        id: sport
                        text: 'Sport'
                        on_press: root.set_style('sport')
                        size_hint: (None, None)
                        width: style_layout.width / 4.0
                        height: self.texture_size[1] * 2
                    RangeSlider:
                        id: sport_slide
                        disable: True
                        opacity: 0
                        value: (int(self.range[1] / 3), int(2 * self.range[1]/ 3))
                        range: (0, 76)
                        on_touch_move: root.difficulty_conversion(style='sport', difficulty_range=self.value)
                        size_hint: (None, None)
                        size: (style_layout.width / 2, sport.height)
                        pos: (sport.pos[0] + sport.width, sport.pos[1])
                    Label:
                        id: sport_diff
                        opacity: 0
                        size_hint: (None, None)
                        height: sport.height
                        width: style_layout.width / 4.0
                        pos: (sport_slide.pos[0] + sport_slide.width, sport_slide.pos[1])
                BoxLayout:
                    orientation: 'horizontal'
                    id: trad_layout
                    ToggleButton:
                        id: trad
                        text: 'Trad'
                        on_press: root.set_style('trad')
                        size_hint: (None, None)
                        width: style_layout.width / 4.0
                        height: self.texture_size[1] * 2
                    RangeSlider:
                        id: trad_slide
                        disable: True
                        opacity: 0
                        range: (0, 76)
                        value: (int(self.range[1] / 3), int(2 * self.range[1]/ 3))
                        on_touch_move: root.difficulty_conversion(style='trad', difficulty_range=self.value)
                        size_hint: (None, None)
                        size: (style_layout.width / 2, sport.height)
                        pos: (sport.pos[0] + sport.width, sport.pos[1])
                    Label:
                        id: trad_diff
                        opacity: 0
                        size_hint: (None, None)
                        height: sport.height
                        width: style_layout.width / 4.0
                        pos: (sport_slide.pos[0] + sport_slide.width, sport_slide.pos[1])
                        outline_color: 0, 0, 0, 1
                        color: 1, 1, 1, 1
                        outline_width: 2
                BoxLayout:
                    id: tr_layout
                    orientation: 'horizontal'
                    ToggleButton:
                        id: tr
                        text: 'Top Rope'
                        on_press: root.set_style('tr')
                        size_hint: (None, None)
                        width: style_layout.width / 4.0
                        height: self.texture_size[1] * 2
                    RangeSlider:
                        id: tr_slide
                        disable: True
                        opacity: 0
                        range: (0, 76)
                        value: (int(self.range[1] / 3), int(2 * self.range[1]/ 3))
                        on_touch_move: root.difficulty_conversion(style='tr', difficulty_range=self.value)
                        size_hint: (None, None)
                        size: (style_layout.width / 2, sport.height)
                        pos: (sport.pos[0] + sport.width, sport.pos[1])
                    Label:
                        id: tr_diff
                        opacity: 0
                        size_hint: (None, None)
                        height: sport.height
                        width: style_layout.width / 4.0
                        pos: (sport_slide.pos[0] + sport_slide.width, sport_slide.pos[1])
                        outline_color: 0, 0, 0, 1
                        color: 1, 1, 1, 1
                        outline_width: 2
                BoxLayout:
                    id: boulder_layout
                    orientation: 'horizontal'
                    ToggleButton:
                        id: boulder
                        text: 'Boulder'
                        on_press: root.set_style('boulder')
                        size_hint: (None, None)
                        width: style_layout.width / 4.0
                        height: self.texture_size[1] * 2
                    RangeSlider:
                        id: boulder_slide
                        disable: True
                        opacity: 0
                        range: (0, 70)
                        value: (int(self.range[1] / 3), int(2 * self.range[1]/ 3))
                        on_touch_move: root.difficulty_conversion(style='boulder', difficulty_range=self.value)
                        size_hint: (None, None)
                        size: (style_layout.width / 2, sport.height)
                        pos: (sport.pos[0] + sport.width, sport.pos[1])
                    Label:
                        id: boulder_diff
                        opacity: 0
                        size_hint: (None, None)
                        height: sport.height
                        width: style_layout.width / 4.0
                        pos: (sport_slide.pos[0] + sport_slide.width, sport_slide.pos[1])
                        outline_color: 0, 0, 0, 1
                        color: 1, 1, 1, 1
                        outline_width: 2
            #    BoxLayout:
            #        id: ice_layout
            #        orientation: 'horizontal'
            #        ToggleButton:
            #            id: ice
            #            text: 'Ice'
            #            on_press: root.set_style('ice')
            #            size_hint: (None, None)
            #            width: style_layout.width / 4.0
            #            height: self.texture_size[1] * 2
            #         RangeSlider:
            #             id: ice_slide
            #             disable: True
            #             opacity: 0
            #             range: (0, 7)
            #             value: (int(self.range[1] / 3), int(2 * self.range[1]/ 3))
            #             on_touch_move: root.difficulty_conversion(style='ice', difficulty_range=self.value)
            #             cursor_image: 'C:/Users/Bob/Documents/Python/Mountain Project/images/pebble.png'
            #             size_hint: (None, None)
            #             size: (style_layout.width / 2, sport.height)
            #             pos: (sport.pos[0] + sport.width, sport.pos[1])
            #         Label:
            #             id: ice_diff
            #             opacity: 0
            #             size_hint_x: None
            #             width: style_layout.width / 4.0
                BoxLayout:
                    id: mixed_layout
                    orientation: 'horizontal'
                    ToggleButton:
                        id: mixed
                        text: 'Mixed'
                        on_press: root.set_style('mixed')
                        size_hint: (None, None)
                        width: style_layout.width / 4.0
                        height: self.texture_size[1] * 2
                    RangeSlider:
                        id: mixed_slide
                        disable: True
                        opacity: 0
                        range: (0, 11)
                        value: (int(self.range[1] / 3), int(2 * self.range[1]/ 3))
                        on_touch_move: root.difficulty_conversion(style='mixed', difficulty_range=self.value)
                        size_hint: (None, None)
                        size: (style_layout.width / 2, sport.height)
                        pos: (sport.pos[0] + sport.width, sport.pos[1])
                    Label:
                        id: mixed_diff
                        opacity: 0
                        size_hint: (None, None)
                        height: sport.height
                        width: style_layout.width / 4.0
                        pos: (sport_slide.pos[0] + sport_slide.width, sport_slide.pos[1])
                        outline_color: 0, 0, 0, 1
                        color: 1, 1, 1, 1
                        outline_width: 2
                BoxLayout:
                    id: aid_layout
                    orientation: 'horizontal'
                    ToggleButton:
                        id: aid
                        text: 'Aid'
                        on_press: root.set_style('aid')
                        size_hint: (None, None)
                        width: style_layout.width / 4.0
                        height: self.texture_size[1] * 2
                    RangeSlider:
                        id: aid_slide
                        disable: True
                        opacity: 0
                        range: (0, 9)
                        value: (int(self.range[1] / 3), int(2 * self.range[1]/ 3))
                        on_touch_move: root.difficulty_conversion(style='aid', difficulty_range=self.value)
                        size_hint: (None, None)
                        size: (style_layout.width / 2, sport.height)
                        pos: (sport.pos[0] + sport.width, sport.pos[1])
                    Label:
                        id: aid_diff
                        opacity: 0
                        size_hint: (None, None)
                        height: sport.height
                        width: style_layout.width / 4.0
                        pos: (sport_slide.pos[0] + sport_slide.width, sport_slide.pos[1])
                        outline_color: 0, 0, 0, 1
                        color: 1, 1, 1, 1
                        outline_width: 2
                BoxLayout:
                    id: snow_layout
                    orientation: 'horizontal'
                    ToggleButton:
                        id: snow
                        text: 'Snow'
                        on_press: root.set_style('snow')
                        size_hint: (None, None)
                        width: style_layout.width / 4.0
                        height: self.texture_size[1] * 2
                    RangeSlider:
                        id: snow_slide
                        disable: True
                        opacity: 0
                        range: (0, 2)
                        on_touch_move: root.difficulty_conversion(style='snow', difficulty_range=self.value)
                        size_hint: (None, None)
                        size: (style_layout.width / 2, sport.height)
                        pos: (sport.pos[0] + sport.width, sport.pos[1])
                    Label:
                        id: snow_diff
                        opacity: 0
                        size_hint: (None, None)
                        height: sport.height
                        width: style_layout.width / 4.0
                        pos: (sport_slide.pos[0] + sport_slide.width, sport_slide.pos[1])
                        outline_color: 0, 0, 0, 1
                        color: 1, 1, 1, 1
                        outline_width: 2
            Button:
                id: next
                text: 'Next Page'
                size_hint: None, None
                size: (136, 36)
                pos_hint: {'center_y': 0.5}
                on_release:
                    app.root.current = 'preferences'
                    app.root.transition.direction = 'left'
<PreferencesPage>:
    name: 'preferences'
    styles: root.manager.get_screen('styles').styles
    on_pre_enter: root.set_up(root.styles)
    canvas.before:
        Rectangle:
            id: styles_background
            pos: self.pos
            size: self.size
            source: root.photo

    BoxLayout:
        id: screen_layout
        orientation: 'vertical'
        Label:
            id: title
            text: 'Preferences'
            font_size: root.size[0] / 20
            size_hint_y: None
            size: self.texture_size
            outline_color: 0, 0, 0, 1
            color: 1, 1, 1, 1
            outline_width: 2
        BoxLayout:
            orientation: 'horizontal'
            id: input_layout
            spacing: 50
            Button:
                id: previous_page
                text: 'Previous Page'
                size_hint: None, None
                size: (136, 36)
                pos_hint: {'center_y': 0.5}
                on_release:
                    app.root.current = 'styles'
                    app.root.transition.direction = 'right'
            BoxLayout:
                id: preferences_layout
                orientation: 'vertical'
                spacing: 50
                BoxLayout:
                    id: location_layout
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: location.height
                    Label:
                        id: location_prompt
                        text: 'Your Location'
                        font_size: 20
                        text_size: self.width, None
                        size_hint_y: None
                        height: location.height
                        outline_color: 0, 0, 0, 1
                        color: 1, 1, 1, 1
                        outline_width: 2
                    TextInput:
                        id: location
                        on_text: root.set_location(self.text)
                        font_size: location_prompt.font_size
                        size_hint_y: None
                        height: self.font_size * 1.75
                        multiline: False
                        on_text_validate: distance.focus=True
                BoxLayout:
                    id: distance_layout
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: location.height
                    Label:
                        id: distance_prompt
                        text: 'Maximum distance (Miles)'
                        font_size: location_prompt.font_size
                        text_size: location_prompt.text_size
                        size_hint_y: None
                        height: location.height
                        outline_color: 0, 0, 0, 1
                        color: 1, 1, 1, 1
                        outline_width: 2
                    FloatInput:
                        id: distance
                        on_text: root.set_distance(self.text)
                        font_size: location_prompt.font_size
                        size_hint_y: None
                        height: self.font_size * 1.75
                        multiline: False
                BoxLayout:
                    id: danger_layout
                    orientation: 'vertical'
                    Label:
                        id: danger_prompt
                        text: 'Danger Levels'
                        font_size: location_prompt.font_size
                        outline_color: 0, 0, 0, 1
                        color: 1, 1, 1, 1
                        outline_width: 2
                    Slider:
                        id: danger_slide
                        range: (0, 3)
                        value: 3
                    Label:
                        id: danger_text
                        text:
                            root.preference_conv('danger', danger_slide.value, danger_slide.range[1])
                        outline_color: 0, 0, 0, 1
                        color: 1, 1, 1, 1
                        outline_width: 2
                # BoxLayout:
                #     id: commitment_layout
                #     orientation: 'vertical'
                #     Label:
                #         id: 'commitment_prompt'
                #         text: 'Commitment Level (Alpine Routes)'
                #         font_size: location_prompt.font_size
                #         outline_color: 0, 0, 0, 1
                #         color: 1, 1, 1, 1
                #         outline_width: 2
                #     Slider:
                #         id: commitment_slide
                #         range: (0, 5)
                #         value: 5
                #     Label:
                #         id: commitment_text
                #         text: root.commitment_conv(commitment_slide.value)
                #         outline_color: 0, 0, 0, 1
                #         color: 1, 1, 1, 1
                #         outline_width: 2
                GridLayout:
                    id: features_layout
                    cols: 2
                    ToggleButton:
                        text:'Crack'
                        on_release: root.set_feature(self.text.lower())
                    ToggleButton:
                        text:'Chimney'
                        on_release: root.set_feature(self.text.lower())
                    ToggleButton:
                        text:'Arete'
                        on_release: root.set_feature(self.text.lower())
                    ToggleButton:
                        text:'Overhang'
                        on_release: root.set_feature(self.text.lower())
                    ToggleButton:
                        text:'Slab'
                        on_release: root.set_feature(self.text.lower())
                BoxLayout:
                    id: pitch_layout
                    orientation: 'vertical'
                    Label:
                        id: pitch_prompt
                        text: 'Pitches'
                        font_size: location_prompt.font_size
                        opacity: 0
                        outline_color: 0, 0, 0, 1
                        color: 1, 1, 1, 1
                        outline_width: 2
                    RangeSlider:
                        id: pitch_num
                        range: (0, 11)
                        step: 1
                        disable: True
                        opacity: 0
                    Label:
                        id: pitches
                        text: root.pitch_conversion(pitch_num.value)
                        opacity: 0
                        outline_color: 0, 0, 0, 1
                        color: 1, 1, 1, 1
                        outline_width: 2

            Button:
                id: next_page
                text: 'Next Page'
                size_hint: None, None
                size: (136, 36)
                pos_hint: {'center_y': 0.5}
                on_release:
                    app.root.current = 'loading'
                    app.root.transition.direction = 'left'
<LoadingPage>:
    name: 'loading'
    on_enter: root.set_up(root.manager.get_screen('styles').styles, root.manager.get_screen('preferences').preferences)
    canvas.before:
        Rectangle:
            id: styles_background
            pos: self.pos
            size: self.size
            source: root.photo
    Label:
        text: 'Loading...'
        font_size: 150

<ResultsPage>:
    name: 'results'
    on_enter: root.set_up(root.manager.get_screen('loading').routes)
    canvas.before:
        Rectangle:
            id: styles_background
            pos: self.pos
            size: self.size
            source: root.photo
    BoxLayout:
        orientation: 'vertical'
        id: results_layout
        Label:
            id: title
            text: 'Routes'
            font_size: root.size[0] / 20
            size_hint_y: None
            size: self.texture_size
            outline_color: 0, 0, 0, 1
            color: 1, 1, 1, 1
            outline_width: 2
            opacity: 0
        BoxLayout:
            orientation:'horizontal'
            size_hint_y:None
            id: column_names
            height: 40
            Label:
                id: name
                text: 'Name'
                valign: 'top'
                opacity: 0
            Label:
                id: rating
                text: 'Rating'
                valign: 'top'
                opacity: 0
            Label:
                id: grade
                text: 'Grade'
                valign: 'top'
                opacity: 0
            Label:
                id: features
                text: 'Features'
                valign: 'top'
                opacity: 0
            Label:
                id: page
                text: 'Go To Page'
                valign: 'top'
                opacity: 0
        GridLayout:
            cols: 5
            id: route_layout
            size_hint: None, None
            height: results_layout.height - title.height - column_names.height - previous.height
            width: results_layout.width
            pos: 0, 36
        Button:
            id: previous
            text: 'Previous Page'
            size_hint: None, None
            size: (136, 36)
            pos_hint: {'center_y': 0.5}
            opacity: 0
            disable: True
            on_release:
                app.root.current = 'preferences'
                app.root.transition.direction = 'right'
        